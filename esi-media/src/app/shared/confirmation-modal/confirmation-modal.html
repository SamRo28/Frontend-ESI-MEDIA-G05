<div class="modal-overlay" *ngIf="isVisible" (click)="onOverlayClick($event)" (keydown.escape)="onCancel()">
  <dialog class="modal-content" (click)="$event.stopPropagation()" (keydown)="$event.stopPropagation()" open>
    <div class="modal-header">
      <h3 class="modal-title">{{ title }}</h3>
      <button class="close-button" (click)="onCancel()" aria-label="Cerrar">
        âŒ
      </button>
    </div>
    
    <div class="modal-body">
      <div class="warning-icon">âš ï¸</div>
      <p class="message">{{ message }}</p>
      <p class="submessage" *ngIf="submessage">{{ submessage }}</p>
    </div>
    
    <div class="modal-footer">
      <button 
        class="btn btn-secondary" 
        (click)="onCancel()"
        [disabled]="isProcessing">
        <span class="icon">âŒ</span>
        {{ cancelText }}
      </button>
      <button 
        class="btn btn-danger" 
        (click)="onConfirm()"
        [disabled]="isProcessing">
        <span class="icon" *ngIf="!isProcessing">ğŸ—‘ï¸</span>
        <span class="icon spinner" *ngIf="isProcessing">â³</span>
        {{ isProcessing ? processingText : confirmText }}
      </button>
    </div>
  </dialog>
</div>